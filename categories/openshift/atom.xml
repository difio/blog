<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: OpenShift | Monupco]]></title>
  <link href="http://monupco.com/blog/categories/openshift/atom.xml" rel="self"/>
  <link href="http://monupco.com/blog/"/>
  <updated>2012-02-28T00:13:45+02:00</updated>
  <id>http://monupco.com/blog/</id>
  <author>
    <name><![CDATA[Monupco Team]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How to update dependencies on OpenShift]]></title>
    <link href="http://monupco.com/blog/2012/02/18/how-to-update-dependencies-on-openshift/"/>
    <updated>2012-02-18T01:00:00+02:00</updated>
    <id>http://monupco.com/blog/2012/02/18/how-to-update-dependencies-on-openshift</id>
    <content type="html"><![CDATA[<p>If you are already running some cool application on <a href="http://openshift.redhat.com">OpenShift</a>
it could be the case that you have to update some of the packages installed as dependencies.
Here is an example for an application using the python-2.6 cartridge.</p>

<h2>Pull latest upstream packages</h2>

<p>The most simple method is to update everything to the latest upstream versions.</p>

<ol>
<li><p>Backup! Backup! Backup!</p>

<pre><code> rhc-snapshot -a mycoolapp
 mv mycoolapp.tar.gz mycoolapp-backup-before-update.tar.gz
</code></pre></li>
<li><p>If you haven't specified any particular version in <code>setup.py</code> it will
look like this:</p>

<pre><code>  ...
  install_requires=[
                  'monupco-openshift-express-python',
                  'MySQL-python',
                  'Markdown',
                 ],
  ...
</code></pre></li>
<li><p>To update simply push to OpenShift instructing it to rebuild your virtualenv:</p>

<pre><code> cd mycoolapp/
 touch .openshift/markers/force_clean_build
 git add .openshift/markers/force_clean_build
 git commit -m "update to latest upstream"
 git push
</code></pre></li>
</ol>


<p>Voila! The environment hosting your application is rebuilt from scratch.</p>

<h2>Keeping some packages unchanged</h2>

<p>Suppose that before the update you have <code>Markdown-2.0.1</code> and you want to keep it!
This is easily solved by adding versioned dependency to <code>setup.py</code></p>

<pre><code>    -       'Markdown',
    +       'Markdown==2.0.1',
</code></pre>

<p>If you do that OpenShift will install the same <code>Markdown</code> version when rebuilding your
application. Everything else will use the latest available versions.</p>

<p><strong>Note:</strong> after the update it's recommended that you remove the
<code>.openshift/markers/force_clean_build</code> file. This will speed up the push/build process
and will not surprise you with unwanted changes.</p>

<h2>Update only selected packages</h2>

<p>Unless your application is really simple or you have tested the updates, I suspect that
you want to update only selected packages. This can be done without rebuilding the whole
virtualenv. Use versioned dependencies in <code>setup.py</code> :</p>

<pre><code>    -       'Markdown==2.0.1',
    -       'django-countries',
    +       'Markdown&gt;=2.1',
    +       'django-countries&gt;=1.1.2',
</code></pre>

<p>No need for <code>force_clean_build</code> this time. Just</p>

<pre><code>    git commit &amp;&amp; git push
</code></pre>

<p>At the time of writing my application was using <code>Markdown-2.0.1</code> and <code>django-countries-1.0.5</code>.
Then it updated to <code>Markdown-2.1.1</code> and <code>django-countires-1.1.2</code> which also happened to be
the latest versions.</p>

<p><strong>Note:</strong> this will not work without <code>force_clean_build</code></p>

<pre><code>    -       'django-countries==1.0.5',
    +       'django-countries',
</code></pre>

<h2>Warning</h2>

<p>OpenShift uses a local mirror of <a href="http://pypi.python.org">Python Package Index</a>.
It seems to be updated every 24 hours or so. Have this in mind if you want to update
to a package that was just released. It will not work!</p>

<hr />

<p><a href="http://about.me/atodorov"><em>Alexander Todorov</em></a> is Monupco's founder and lead developer!</p>

<p>For an insight of available updates to you OpenShift applications give
Monupco a <a href="https://monupco-otb.rhcloud.com/applications/mine/">try</a>!
It keeps generating new <a href="http://monupco.com/advisories/">advisories</a> every day!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Spinning-up a development instance on OpenShift Express]]></title>
    <link href="http://monupco.com/blog/2012/02/10/spinning-up-a-development-instance-on-openshift-express/"/>
    <updated>2012-02-10T21:19:00+02:00</updated>
    <id>http://monupco.com/blog/2012/02/10/spinning-up-a-development-instance-on-openshift-express</id>
    <content type="html"><![CDATA[<p><a href="http://monupco.com">Monupco</a> is hosted on <a href="http://openshift.redhat.com">OpenShift</a> Express.
During development we often need to spin-up another copy of Monupco to use for testing and development.
With OpenShift this is easy and fast. Here's how:</p>

<ol>
<li><p>Create another application on OpenShift. This will be your development instance.</p>

<pre><code> rhc-create-app -a myappdevel -t python-2.6
</code></pre></li>
<li><p>Find out the git URL for the production application:</p>

<pre><code> $ rhc-user-info
 Application Info
 ================
 myapp
     Framework: python-2.6
      Creation: 2012-02-10T12:39:53-05:00
          UUID: 723f0331e17041e8b34228f87a6cf1f5
       Git URL: ssh://723f0331e17041e8b34228f87a6cf1f5@myapp-mydomain.rhcloud.com/~/git/myapp.git/
    Public URL: http://myapp-mydomain.rhcloud.com/
</code></pre></li>
<li><p>Push the current code base from the production instance to devel instance:</p>

<pre><code> cd myappdevel
 git remote add production -m master ssh://723f0331e17041e8b34228f87a6cf1f5@myapp-mydomain.rhcloud.com/~/git/myapp.git/
 git pull -s recursive -X theirs production master
 git push
</code></pre></li>
<li><p>Now your <code>myappdevel</code> is the same as your production instance. You will probably want to
modify your database connection settings at this point and start adding new features.</p></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Monupco on OpenShift Express]]></title>
    <link href="http://monupco.com/blog/2012/02/09/monupco-on-openshift-express/"/>
    <updated>2012-02-09T18:48:00+02:00</updated>
    <id>http://monupco.com/blog/2012/02/09/monupco-on-openshift-express</id>
    <content type="html"><![CDATA[<p><a href="http://monupco.com">Monupco</a> stands for Monitor Updates In The Cloud.
As the name suggests this is a service which provides updates information
for applications hosted in a PaaS environment. If you are a developer or
a sysadmin knowing when and what to upgrade will make your life easier.</p>

<p>Monupco will generate a human friendly description of changes between the
installed package version and the latest one. Currently a <a href="https://github.com/monupco/monupco-openshift-express-python">client
side tool</a> for
Python applications on OpenShift Express is available and
others will follow soon.</p>

<p>Monupco started with a local SQLite database which was the fastest way to get up
and running. At present the database layer is powered by MySQL and the intention
is to switch to NoSQL at some point. It is written in Python.</p>

<p>Monupco is split into several parts:</p>

<ul>
<li>Management console - the interface with which users interact.
It is hosted on <a href="http://openshift.redhat.com/">OpenShift</a> Express.</li>
<li>Website - static HTML website which is periodically updated by a
<a href="http://celeryproject.org/">Celery</a> task.</li>
<li>Blog - powered by <a href="http://octopress.org">Octopress</a>. Together with
the website this is hosted on GitHub.</li>
</ul>


<p>All source code of Monupco is managed with git and 'git push' is simply a
rock star. Combining git + ssh keys made it possible to programatically commit
and push when necessary.</p>

<p>The application uses Markdown extensively. All blog and website pages
and multi-line text entries into the database are rendered as Markdown.
This makes entering and editing text very easy.</p>

<p>While developing Monupco I didn't want to force users to remember yet another
username and password nor store them into the database. The solution is no passwords required!
Instead Monupco uses popular social networks credentials and limits the information
stored in database to the bare minimum.</p>

<p>Monupco has recently <a href="http://monupco.com/blog/2012/02/06/monupco-1.1-release-announcement/">announced</a>
its first Alpha release. The following weeks will see development for Ruby, PHP and Perl packages
and the corresponding client side tools for these catridges on OpenShift.
Java and Node.js are also under investigation.</p>

<p>Once these popular languages and package types are supported, client side tools
for other PaaS vendors will follow. On the radar are requests for:</p>

<ul>
<li>Heroku</li>
<li>Engine Yard</li>
<li>AppFog</li>
<li>Google Apps Engine</li>
<li>SalesForce</li>
<li>DotCloud</li>
</ul>


<p>If you're already excited please follow @monupco on <a href="https://twitter.com/monupco">Twitter</a> and
<a href="https://github.com/monupco">GitHub</a> or <a href="https://monupco-otb.rhcloud.com/applications/mine/">get started</a> today!</p>
]]></content>
  </entry>
  
</feed>
